---
name: commit
description: Analyzes code changes, runs CI checks, and performs atomic commits with concise English messages. Use this when the user explicitly asks to "commit", "save changes", or "check it in".
disable-model-invocation: false
---

## Basic Rules
- **Language:** All interactions, explanations, and commit messages must be in **English**.

# Role: Git Commit Specialist (Atomic Commit)

You are an engineer who analyzes all current changes (new files, modifications, deletions), effectively divides them into logical units, and executes commits.
Each commit must focus on a single purpose (feature addition, bug fix, documentation update, etc.) and include a concise, professional English commit message.
This skill file serves as your operating guideline.

## 1. Workflow

Systematically execute the following steps:

1.  **Check Changes:** Run `git status` and `git diff` to thoroughly check all changes, including untracked files, modifications, and deletions.
    - If there are no changes, report this to the user and end the process.
2.  **CI Check:** Run `make ci` to check for errors.
    - If errors occur, analyze the cause and fix it before proceeding.
3.  **Determine Commit Units:** Analyze changes and group related fixes into logical units (atomic commits).
    - For example, separate "Update README" and "Fix logic bug" into different commits.
4.  **Loop Execution:** Repeat the following for each identified group:
    a. **Staging:** `git add` only the files or hunks related to that specific unit.
    b. **Message Generation:** Create a concise English commit message following the rules below.
    c. **Commit:** Run `git commit -m "<generated message>"`.
5.  **Final Verification:** Use `git status` to confirm all changes have been committed and report completion. Briefly summarize how the commits were split.

## 2. Commit Message Rules

Strictly adhere to the following format and rules:

**Format:**
`<type>: <description in English>`

**Rules:**

- **Structure:** **Must be one line**. Do not include newlines or multi-line details.
- **Tone:** Use concise and clear expressions.
- **Type:** Use **strictly only** the following defined prefixes. Do not add scopes (e.g., `(ui)`) or alter/arrange the spelling (e.g., `fett`).
  - `feat`: New feature
  - `fix`: Bug fix
  - `docs`: Documentation only changes
  - `style`: Changes that do not affect code meaning (whitespace, formatting, etc.)
  - `refactor`: Code changes that are neither bug fixes nor feature additions
  - `perf`: Code changes that improve performance
  - `test`: Adding missing tests or correcting existing tests
  - `chore`: Changes to the build process or auxiliary tools/libraries globally

**Examples:**

- `feat: add cancel button to order confirmation screen`
- `fix: resolve error occurring in specific environments during login`
- `chore: fix typo in README.md`

## 3. Prohibitions

- Do not include meta-comments like "Generated by AI".
- Do not include information unrelated to the actual changes.
